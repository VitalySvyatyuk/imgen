{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="Vitaly Svyatyuk" />
        <title>Image Generator by Size</title>
        <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
        {% if is_success %}
            <script>
                window.location.hash = "generatedImages";
            </script>
        {% endif %}
        {% if is_error %}
            <script>
                window.location.hash = "generateImage";
            </script>
        {% endif %}
    </head>
    <body id="page-top">
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top">imgen.live</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#generatedImages">Images</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#generateImage">Generate</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <h1 class="masthead-heading text-uppercase mb-0">Generate Image by Size</h1>
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <p class="masthead-subheading font-weight-light mb-0">
                    Here you can generate image with custom width, height, and file size.
                    This tool is especially useful for designers and developers who want to
                    create images with exact dimensions and size.
                </p>
            </div>
        </header>
        <section class="page-section" id="generatedImages">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        {% if is_success %}
                            <div class="alert alert-warning" role="alert">
                                New image generated: {{ message }}
                            </div>
                        {% endif %}
                        <table class="table align-middle">
                            <thead>
                                <tr>
                                    <th scope="col">Color</th>
                                    <th scope="col">Url</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Download</th>
                                </tr>
                            </thead>
                            <tbody>
                            {% for im in images %}
                                <tr>
                                    <th scope="row" style="background: rgb({{ im.r }}, {{ im.g }}, {{ im.b }});"></th>
                                    <td id="tableFileName" style="word-wrap: break-word; overflow-wrap: break-word;">
                                        <a href="{{ im.url }}" target="_blank">{{ im.filename }}</a>
                                    </td>
                                    <td>{{ im.date }}</td>
                                    <td>
                                        <a class="btn btn-primary" href="{{ im.url }}" download>
                                            <i class="fas fa-download me-2"></i>
                                            Download
                                        </a>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        <section class="page-section" id="generateImage">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        {% if is_error %}
                            <div class="alert alert-danger" role="alert">
                                {{ message }}
                            </div>
                        {% endif %}
                        <form id="contactForm" method="post">
                            {% csrf_token %}
                            <div class="form-floating mb-3">
                                <input class="form-control" id="width" name="width" type="number" placeholder="320" value="320" data-sb-validations="required" />
                                <label for="width">Width in pixels</label>
                                <div class="invalid-feedback" data-sb-feedback="width:required">Width required</div>
                            </div>
                            <div class="form-floating mb-3">
                                <input class="form-control" id="height" name="height" type="number" placeholder="240" value="240" data-sb-validations="required" />
                                <label for="height">Height in pixels</label>
                                <div class="invalid-feedback" data-sb-feedback="height:required">Height required</div>
                            </div>
                            <div class="form-floating mb-3">
                                <input class="form-control" id="size" name="size" type="number" placeholder="800000" value="800000" />
                                <label for="size">Size in bytes</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input class="form-control" id="format" name="format" type="text" value='png' placeholder="png" />
                                <label for="format">Format (png, jpg)</label>
                            </div>
                            <div class="d-none" id="submit">
                                <div class="text-center mb-3">
                                    <div class="fw-bolder">Image generated successfully!</div>
                                    To activate this form, sign up at
                                    <br />
                                    <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                                </div>
                            </div>
                            <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">Error generating image!</div></div>
                            <button class="btn btn-primary btn-xl" id="submitButton" type="submit">Generate Image</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 mb-5 mb-lg-0">
                    </div>
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">LInks</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-telegram"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-youtube"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="https://www.linkedin.com/in/vitaliisviatiuk/"><i class="fab fa-fw fa-linkedin"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="https://github.com/VitalySvyatyuk/imgen"><i class="fab fa-fw fa-github"></i></a>
                    </div>
                    <div class="col-lg-4">
                    </div>
                </div>
            </div>
        </footer>
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright &copy; imgen.live 2025</small></div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'js/scripts.js' %}"></script>
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
